{% extends "base_1.1.html" %}
{% load static %}
{% block content %}
<br>
<div class="container">
		<div class="row">
			<div class="col tab" style="background-color: whitesmoke">
				<table class="table">
				    <br>
				    <thead> 
				    	<tr>
				           <th scope="col">Book Cover</th>
				           <th scope="col">Book Author</th>
				           <th scope="col">Book Title</th>
				           <th scope="col">Action</th>
				    	</tr>
				    </thead>
				    <tbody>
				        {% for book in books %}
				         	<tr>
				                <th scope="row"> {{book.id}} </th>
				                <td>{{book.book_title}}</td>
				                <td>{{book.book_year}}</td>
				                <td>
				                  <button type="button" class="btn btn-view-save" data-toggle="modal" data-target="#ViewModal-{{book.id}}"> <i class="fa fa-eye"></i>View</button>
				                  <button type="button" class="btn btn-modal" data-toggle="modal" data-target="#DeleteModal-{{book.id}}"><i class="fa fa-trash"></i>Delete</button>
				                </td>
				           </tr>

				    <!-- MODAL VIEW BOOK -->
				            <div class="modal fade" id="ViewModal-{{book.id}}" tabindex="-1" role="dialog" aria-labelledby="ViewModalLabel" aria-hidden="true">
				                <div class="modal-dialog " role="document">
				                  <div class="modal-content">
				                    <div class="modal-header">
				                      <h6 class="modal-title" id="ViewModalLabel">BOOK INFORMATION</h6>
				                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				                        <span aria-hidden="true">&times;</span>
				                      </button>
				                    </div>
				                    <form id="updateForm" method="post">
				                      {% csrf_token %}
				                      <input type="text" name="bookid" value ="{{book.id}}" hidden>
				                      <div class="modal-body">
				                        <div class="form-row">
				                          <div class="form-group col-md-6">
				                            <label for="booktitle">Book Title</label>
				                            <input type="text" class="form-control" id="booktitle" name="booktitle" value = "{{book.book_title}}">
				                          </div>
				                          <div class="form-group col-md-6">
				                            <label for="bookyear">Year</label>
				                            <input type="text" class="form-control" id="bookyear" name="bookyear" value = "{{book.book_year}}">
				                          </div>
				                        </div>
				                      </div>
				                    </form>
				                  </div>
				                </div>
				            </div>
				    <!-- Modal Delete -->
				            <div class="modal fade" id="DeleteModal-{{book.id}}" tabindex="-1" role="dialog" aria-labelledby="DeleteModalLabel" aria-hidden="true">
				                <div class="modal-dialog" role="document">
				                  <div class="modal-content">
				                    <div class="modal-header">
				                      <h5 class="modal-title" id="DeleteModalLabel">DELETE RECORD</h5>
				                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				                        <span aria-hidden="true">&times;</span>
				                         </button>
				                       </div>
				                       <form id="deleteForm" method="post" >
				                        {% csrf_token %} 
				                        <div class="modal-body">
				                          <input type="text" name="bookid" value = {{book.id}} hidden>
				                        Are you sure you want to delete this record?
				                      </div>
				                      <div class="modal-footer">
				                         <button type="submit" id = "btnDelete" name = "btnDelete" class="btn btn-view-save">YES</button>
				                        <button type="button" class="btn btn-cancel" data-dismiss="modal">NO</button>
				                      </div>
				                    </form>
				                  </div>
				                </div>
				            </div>
				        {% endfor %}
				    </tbody>
				</table>
			</div>
					<!--<div class="col-all" style="background-color: maroon;">-->
						<div class="d-flex flex-row-reverse">
							<div class="row1">
								<div class="d-flex flex-row-reverse">
									
										<button  type="button" data-toggle="modal" data-target="#ModalEdit-{{uer.user_id}}" class='fa fa-edit'style='font-size:20px; color: white'></button>
									
										<div class="modal fade" id="ModalEdit-{{uer.user_id}}" role="dialog" aria-hidden="true">
											<div class="modal-dialog">
											<!-- Modal Edit-->  
												<div class="modal-content">
													<div class="modal-header">
														<h4 class="modal-title">Profile Details</h4>
													</div>
												{% for user in users %}		
													<div class="modal-body" value = "{{user.user_id}}">
														<div class = "row col-12">
																<form method="POST">
	                    											{% csrf_token %}
												                    <div class="form-group row">
												                        <div class="txt_field col-sm-6">
												                            <input type="text required" name="firstname" value = "{{user.firstname}}">
												                            <span></span>
												                            <label>First Name</label>
												                        </div>

												                        <div class="txt_field col-sm-6">
												                            <input type="text required" name="lastname" value = "{{user.lastname}}">
												                            <span></span>
												                            <div class=" d-flex justify-content-center">
												                                <label>Last Name</label>
												                            </div>
												                        </div>
												                    </div>
												                    
												                    <div class="txt_field">
												                        <div class="col-md-9">
												                            <input type="date" name="birthdate" value = "{{user.birthdate}}">
												                        </div>
												                        <span></span>
												                        <label>Birthdate</label>
												                    </div>
												                    <div class="txt_field">
												                        <input type="text required" name="contact_number" value = "{{user.contact_number}}">
												                        <span></span>
												                        <label>Contact No.</label>
												                    </div>
												                    <div class="txt_field">
												                        <input type="text required" name="email"  value = "{{user.email}}">
												                        <span></span>
												                        <label>Email</label>
												                    </div>
												                    <div class="txt_field">
												                        <label>Gender</label>
												                     </div>
												                    <div class="radio_field row col-12">
												                        <div class="col-6 d-flex justify-content-center">
												                            <input class="mt-2 mr-1" type="radio" id="male" name="gender"  value = "{{user.gender}}">
												                            <label for="male">Male</label>
												                        </div>
												                        <div class="col-6 d-flex justify-content-center">
												                            <input class="mt-2 mr-1" type="radio" id="female" name="gender" value = "{{user.gender}}">
												                                <label for="female">Female</label>
												                        </div>
												                    </div>
												                    <div class="txt_field">
												                        <input type="text required" name="user_id" value = "{{user.user_id}}">
												                        <span></span>
												                        <label>UserID</label>
												                    </div>
												                    <div class="txt_field">
												                        <input type="password" name="password" value = "{{user.password}}"required>
												                        <span></span>
												                        <label>Password</label>
												                    </div>
												                    <div class="txt_field">
												                        <input type="password" name="confirmpassword" value = "{{user.confirmpassword}}" required>
												                        <span></span>
												                        <label>Confirm Password</label>
												                    </div>  
												                </form>	  		
															</div>
														</div>
												{% endfor %}
														<div class="modal-footer">
															<button type="button" class="btn-view-save" data-dismiss="modal">Update</button>
															<button type="button" class="btn-cancel" data-dismiss="modal">Cancel</button>
														</div>
													</div>				      
												</div>
											</div>
										</div>
									
										<div class="text-center">
											<div class="small-12 medium-2 large-4 columns">
												<div class="circle ">
												     <!-- User Profile Image -->
												     <img class="profile-pic rounded-circle" alt="100x100" src="https://mdbootstrap.com/img/Photos/Avatars/img%20(30).jpg" data-holder-rendered="true">
												       <!-- Default Image -->
												       <!-- <i class="fa fa-user fa-5x"></i> -->
												</div>
												 <div class="p-image" style="align-self: left;">
												   	<i class="fa fa-camera upload-button"></i>
												    <input class="file-upload" type="file" accept="image/*"/>
												</div>
											</div>
											<br>
											<br>	  
											<br>
											<br>
											<br>
											{% for user in users %}	
												<span class="col-12" style="color: gold" value = "{{user.firstname}}+{{user.lastname}}"> </span>
											{% endfor %}
											<br>

											<div class="col-12">
												<div class="row" class="botton">
													<div class="col-4">
														<div class="btn-RBD"> 
															<div class="fa fa-book"></div>
														</div>
														<div class="col-4" style="color: white">12</div>
														<div class="col" style='font-size:14px; color: white'>Reads</div>
													</div>

													<div class="col-4">
														<div class="btn-RBD"> 
															<div class="fa fa-bookmark" style="color:maroon"></div>
														</div>
														<div class="col-4" style="color: white">20</div>
														<div class="row" style='font-size:14px; color: white'>Bookmarks</div>
													</div>

													<div class="col-4">
														<div class="btn-RBD"> 
															<div class="fa fa-download" style="color:maroon"></div>
														</div>
														<div class="col-4" style="color: white">20</div>
														<div class="row" style='font-size:14px; color: white'>Downloads</div>
													</div>
		  										</div>
											</div>	
										</div>

										<br>
										<br>
										<div class="d-flex justify-content-center">&nbsp;&nbsp;
											<form method="POST">
												{% csrf_token %}
												<button type="submit" class="btn-view-save">Add Book</button>
											</form>
										</div>
									
								</div>
							</div>						
						</div>							
					</div>
					</div>
				</div>
			</div>
		</div>
</div>
{% endblock content %}
